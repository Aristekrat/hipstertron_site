/*! hipster_tron 09-10-2014 */
"use strict";angular.module("hipstertron",["ngRoute","hipstertron.filters","hipstertron.services","hipstertron.directives","hipstertron.controllers"]).config(["$routeProvider",function($routeProvider){$routeProvider.when("/",{templateUrl:"partials/main.html",controller:"MainCtrl"}),$routeProvider.when("/about",{templateUrl:"partials/about.html",controller:"AboutCtrl"}),$routeProvider.when("/calendar",{templateUrl:"partials/calendar.html",controller:"CalendarCtrl"}),$routeProvider.when("/privacy-policy",{templateUrl:"partials/privacy-policy.html",controller:"PrivacyCtrl"}),$routeProvider.otherwise({redirectTo:"/"})}]),angular.module("hipstertron.controllers",[]).controller("MainCtrl",["$scope","submitEmailService",function($scope,submitEmailService){$scope.signUserUp=function(userEmail){userEmail&&submitEmailService.submitEmail(userEmail,function(){$scope.signedUp=!0})}}]).controller("AboutCtrl",["$scope",function(){}]).controller("CalendarCtrl",["$scope","getConcertsService",function($scope,getConcertsService){getConcertsService.getConcerts(function(response){$scope.concertListings=response.data.concertListings})}]).controller("PrivacyCtrl",["$scope",function(){}]),angular.module("hipstertron.directives",[]).directive("appVersion",["version",function(version){return function(scope,elm){elm.text(version)}}]),angular.module("hipstertron.filters",[]).filter("interpolate",["version",function(version){return function(text){return String(text).replace(/\%VERSION\%/gm,version)}}]),angular.module("hipstertron.services",[]).factory("environmentService",function(){return{getPrefix:function(){var envPrefix={prod:"http://hipstertron-data.herokuapp.com",local:"http://localhost:8000"};return envPrefix.prod}}}).factory("submitEmailService",function($http,environmentService){return{submitEmail:function(email,callback){$http({method:"POST",url:environmentService.getPrefix()+"/sendEmail",headers:{"Content-Type":"application/json"},data:JSON.stringify(email)}).then(function(response){return callback(response)})}}}).factory("getConcertsService",function($http,$timeout,environmentService){return{getConcerts:function(callback){$http.get(environmentService.getPrefix()+"/getConcerts",{cache:!0}).then(function(response){return callback(response)})}}});